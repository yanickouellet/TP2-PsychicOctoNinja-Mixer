# Stratégie de tests

Avant de détailler la stratégie de tests que nous avons choisis, commençons par rappeler l'architecture de l'application. L'application Windows Forms est découpée en plusieurs contrôles utilisateurs, ayant chacun accès à un contrôleur qui lui est propre. Lorsqu'un utilisateur appuie sur un bouton ou effectue une action, le contrôle utilisateur appelle son contrôleur afin qu'il effectue l'action appropriée. Le contrôleur, lui, effectue l'action à l'aide de l'objet approprié du "Context" de l'application (par exemple, la playlist, une piste audio, etc.). Le contrôleur peut également généré un événement, auquel écoute le contrôle utilisateur, lorsqu'il y a un changement dans l'état de l'application (par exemple, un changement de volume ou de piste). Cependant, la plus grande partie de la logique de l'application se retrouve dans les classes appartenant au "Context" de l'application: Playlist, AudioMaterial, Transition, etc. 

Le code à l'intérieur des contrôles utilisateurs est relativement simple, il ne fait, majoritairement, qu'appeler les Contrôleurs et écouter leurs événements. De plus, le mauvais fonctionnement d'une partie des contrôles utilisateurs est très facilement identifiable lors de l'exécution du programme, il n'est donc pas nécessaire de tester cette partie. 

Pour ce qui est des Contrôleurs, le code à l'intérieur, est plutôt simple, sans être trivial, et il n'y a pas énormément de logique. Ils se content principalement de déclencher des événements et de changer le Context de l'application. Il n'est donc pas essentiel de les tester avec des tests unitaires. De plus, pour tester  unitairement ces composantes de manière efficace, il faudrait pouvoir "mocker" leurs composantes, ce qui nécessiterait la mise en place d'une architecture plus complexe, probablement à l'aide d'un gestionnaire de dépendances. Or, cela complexifierait l'application, alors que les gains en robustesse de l'application seraient peu élevés, puisque les Contrôleurs ne contiennent pas suffisamment de logique. 

En revanche, les objets du "Context", (Playlist, AudioMaterial, Transition, etc. ) contiennent la majeur partie de la logique de l'application et sont d'une importance cruciale à son bon fonctionnement. De plus, un bug des ces composants est bien moins détectable que dans les contrôles utilisateurs ou les Contrôleurs. Ce sont donc les tests de ces composantes qui seront privilégiés. 
